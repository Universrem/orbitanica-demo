/* ====== –ë–∞–∑–æ–≤–∏–π —Å–∫–∏–¥–∞–Ω–Ω—è —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è ====== */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html,
body {
  height: 100%;
  font-family: sans-serif;
  background-color: #f9f9f9;
}

/* ====== –í–ï–†–•–ù–Ø –ü–ê–ù–ï–õ–¨ ====== */
#top-bar {
  width: 100%;
  height: 70px;
  background-color: #ffffff;
  color: #000000;
  display: flex;
  align-items: center;
  padding: 0 20px;
  box-shadow: 0 2px 4px rgba(108, 159, 234, 0.2);
  z-index: 1000;
}

/* ====== –û–°–ù–û–í–ù–ò–ô –ö–û–ù–¢–ï–ù–¢ ====== */
#main-content {
  display: flex;
  height: calc(100vh - 70px);
  overflow: hidden;
}

/* ====== –õ–Ü–í–ê –ü–ê–ù–ï–õ–¨ ====== */
#left-panel {
  width: 280px;
  height: calc(100vh - 70px);
  background-color: #fff;
  border-right: 1px solid #ddd;
  padding: 20px;
  overflow-y: scroll;
  box-shadow: inset -1px 0 0 rgba(0, 0, 0, 0.05);
  z-index: 1;
}

/* ====== –ö–û–ù–¢–ï–ô–ù–ï–† –ì–õ–û–ë–£–°–ê ====== */
#globe-container {
  flex-grow: 1;
  position: relative;
  z-index: 0;
}
#globe-container > .og-inner {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
#globe-container > .og-inner > *:not(canvas) {
  display: none !important;
}

/* ====== DETAILS & SUMMARY: –ø—Ä–∏–±—Ä–∞—Ç–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ –º–∞—Ä–∫–µ—Ä–∏ ====== */
details > summary::-webkit-details-marker,
details > summary::marker {
  display: none;
  content: none;
}
summary {
  cursor: pointer;
  user-select: none;
}

/* ====== –ì–û–õ–û–í–ù–Ü –ó–ê–ì–û–õ–û–í–ö–ò –í –õ–Ü–í–Ü–ô –ü–ê–ù–ï–õ–Ü ====== */
#left-panel > details > summary {
  position: relative;
  padding-left: 28px;
  font-weight: 400;
  line-height: 1.5;
  letter-spacing: .05em;
  color: #222;
  transition: color 0.2s ease;
}
#left-panel > details > summary::before {
  content: "";
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%);
  width: 0.2em;
  height: 0.2em;
  background-color: currentColor;
  border-radius: 50%;
}
#left-panel > details#comparison > summary::before {
  width: 18px;
  height: 18px;
  background: url("../res/icons/film.png") center / contain no-repeat;
  border-radius: 0;
  background-color: transparent;
}

#left-panel > details#univers > summary::before {
  width: 18px;
  height: 18px;
  background: url("../res/icons/telescope.png") center / contain no-repeat;
  border-radius: 0;
  background-color: transparent;
}

#left-panel > details#history > summary::before {
  width: 18px;
  height: 18px;
  background: url("../res/icons/history.png") center / contain no-repeat;
  border-radius: 0;
  background-color: transparent;
}

#left-panel > details#geo > summary::before {
  width: 18px;
  height: 18px;
  background: url("../res/icons/globe.png") center / contain no-repeat;
  border-radius: 0;
  background-color: transparent;
}

#left-panel > details#money > summary::before {
  width: 18px;
  height: 18px;
  background: url("../res/icons/money.png") center / contain no-repeat;
  border-radius: 0;
  background-color: transparent;
}

#left-panel > details#math > summary::before {
  width: 18px;
  height: 18px;
  background: url("../res/icons/power.png") center / contain no-repeat;
  border-radius: 0;
  background-color: transparent;
}
#left-panel > details > summary:hover {
  color: #0077cc;
}
#left-panel > details[open] > summary {
  color: #005fa3;
}

/* ====== –ü–Ü–î–ó–ê–ì–û–õ–û–í–ö–ò –¢–ê –í–ú–û–ù–¢–û–í–ê–ù–ò–ô CONTENT ====== */
.section-content {
  display: block;
}
.section-content > * {
  display: block;
  width: 100%;
  margin-bottom: 0.75em;
}
.section-content > *:last-child {
  margin-bottom: 0;
}
.section-content > details {
  margin: 0;
}
.section-content > details > summary {
  padding-left: 42px;
  margin: 0;
  font-weight: 400;
  font-size: 1em;
  line-height: 1.5;
  letter-spacing: .05em;
  color: inherit;
}
.section-content > details > summary::before {
  content: none;
}
.section-content > details > summary:hover {
  color: #005fa3;
}
.section-content > details[open] > summary {
  color: #0077cc;
}

/* ====== –ï–õ–ï–ú–ï–ù–¢–ò –§–û–†–ú–ò –í –õ–Ü–í–Ü–ô –ü–ê–ù–ï–õ–Ü ====== */
#left-panel .section-content select,
#left-panel .section-content input,
#left-panel .section-content button:not(.icon-button) {
  height: 30px;
  padding: 0 8px;
  font-size: 0.8rem;
  color: #000000;  
  border: 1px solid hsl(0, 0%, 95%);
  border-radius: 4px;
  background-color: #f7f7f7;
  line-height: 30px;
}

#left-panel .section-content > select:first-of-type {
  margin-top: 0.5em;
}

/* –ö–Ω–æ–ø–∫–∞ "–†–æ–∑—Ä–∞—Ö—É–≤–∞—Ç–∏": —Ä–∞–º–∫–∞ –∑–µ–ª–µ–Ω–∞ –∑–∞–≤–∂–¥–∏; —Ñ–æ–Ω —Å—Ç–∞—î –∑–µ–ª–µ–Ω–∏–º —É —Å—Ç–∞–Ω—ñ .is-active */
.section-content :is(button#calculate, button[data-action="calculate"]):not(.icon-button) {
  border: 1px solid green;
  background: #fff;
  color: #000;
  transition: background-color .18s ease, color .18s ease;
}
#left-panel :is(button#calculate, button[data-action="calculate"]):not(.icon-button).is-active {
  background: rgb(107, 172, 107);
  color: #fff;
}
#left-panel :is(button#calculate, button[data-action="calculate"]):not(.icon-button).is-active:hover {
  background: rgb(107, 172, 107);
  color: #fff;
}

/* –ö–Ω–æ–ø–∫–∞ "–°–∫–∏–Ω—É—Ç–∏": —Ä–∞–º–∫–∞ —á–µ—Ä–≤–æ–Ω–∞ –∑–∞–≤–∂–¥–∏; —Ñ–æ–Ω —Å—Ç–∞—î —á–µ—Ä–≤–æ–Ω–∏–º —É —Å—Ç–∞–Ω—ñ .is-active */
.section-content :is(button#reset, button[data-action="reset"]):not(.icon-button) {
  border: 1px solid red;
  background: #fff;
  color: #000;
  transition: background-color .18s ease, color .18s ease;
}
#left-panel :is(button#reset, button[data-action="reset"]):not(.icon-button).is-active {
  background: rgb(255, 125, 125);
  color: #fff;
}
#left-panel :is(button#reset, button[data-action="reset"]):not(.icon-button).is-active:hover {
  background: rgb(255, 125, 125);
  color: #fff;
}

/* ====== –ï–§–ï–ö–¢ –ü–†–ò –ù–ê–í–ï–î–ï–ù–ù–Ü –ö–£–†–°–û–†–ê ====== */
#left-panel .section-content select:hover,
#left-panel .section-content input:hover,
#left-panel .section-content button:not(.icon-button):hover {
  background-color: #f9f9f9;       
  cursor: pointer;                
}

/* ====== –°–¢–ò–õ–¨ –î–õ–Ø –ù–ï–ê–ö–¢–ò–í–ù–ò–• –ü–û–õ–Ü–í –Ü –ö–ù–û–ü–û–ö ====== */
#left-panel .section-content select:disabled,
#left-panel .section-content input:disabled,
#left-panel .section-content button:not(.icon-button):disabled {
  background-color: #eee;
  color: #999;
  border-color: #ccc;
  cursor: not-allowed;
  opacity: 0.7;
}

/* üîπ –°—Ç–∏–ª—ñ –ø–µ—Ä–µ–º–∏–∫–∞—á–∞ –º–æ–≤ */
#lang-switch {
  position: absolute;
  top: 20px;
  right: 30px;
  z-index: 10;

  display: flex;
  align-items: center;
  gap: 15px;
}

.lang-option {
  color: white;
  font-weight: bold;
  cursor: pointer;
  font-size: 16px;
  user-select: none;
  transition: color 0.2s;
}

.lang-option:hover {
  color: #aaa;
}

.lang-option.active {
  color: #127def; /* —Å–∏–Ω—ñ–π */
}
.lang-icon {
  width: 28px;
  height: auto;
  margin: 0 2px;
  cursor: pointer;
  opacity: 0.6;
  transition: opacity 0.2s;
}
.lang-icon.active {
  opacity: 1;
}

/* ==== –ë–ª–æ–∫ 1: –§–æ–Ω–æ–≤–∞ —Å–µ–∫—Ü—ñ—è intro ==== */
#top-bar {
  background-color: #f7f7f7;
  padding: 10px 20px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

select.has-placeholder {
  color: gray;
  font-style: italic;
  padding-left: 8px;
}
input::placeholder {
  font-style: italic;
  color: gray;
  padding-left: 4px;
}
#left-panel::-webkit-scrollbar {
  width: 6px;
}

#left-panel::-webkit-scrollbar-track {
  background: transparent;
}

#left-panel::-webkit-scrollbar-thumb {
  background-color: #ccc;
  border-radius: 3px;
}

#left-panel::-webkit-scrollbar-thumb:hover {
  background-color: #bbb;
}

/* ====== –¢–µ–∫—Å—Ç–∏-–ø—ñ–¥–∫–∞–∑–∫–∏ –≤ –ª—ñ–≤—ñ–π –ø–∞–Ω–µ–ª—ñ ====== */
#left-panel .panel-note {
  color: #000000;          /* —á–æ—Ä–Ω–∏–π */
  font-weight: 600;     /* –∂–∏—Ä–Ω–∏–π */
  font-size: 14px;
  display: inline-block;
  margin-left: 93px;
}

/* –†–æ–∑–¥—ñ–ª—é–≤–∞—á—ñ —Å–µ–∫—Ü—ñ–π —É –ª—ñ–≤—ñ–π –ø–∞–Ω–µ–ª—ñ: "–°—Ü–µ–Ω–∏" / "–°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å—Ü–µ–Ω" */
#left-panel .panel-section-title {
  display: block;
  text-align: center;
  font-weight: 500;
  font-size: 1rem;
  line-height: 1.25;
  font-style: italic;
  color: #222;           /* —Ç–µ–º–Ω–∏–π —Ç–µ–∫—Å—Ç –ø—ñ–¥ –±—ñ–ª–∏–π —Ñ–æ–Ω */
  margin: 12px 0 10px;
  padding: 6px 6px;
  letter-spacing: .05em;
}

#left-panel .sector-block {
  margin: 6px 0;  
  padding: 8px 12px; 
  border: 1px solid #ffffff;
  border-radius: 6px;
  background-color: #ffffff;
}
#left-panel .sector-block :is(select, input, button):not(.icon-button) {
  display: block;
  margin: 6px auto;
  max-width: 90%;
  width: 100%;
  box-sizing: border-box;
}

hr {
  border: none;
  border-top: 2px solid #1947b2;
  margin: 15px 0;
}

/* ==== Info Panel ==== */
#info-panel {
  position: absolute;
  top: 80px;
  right: 20px;
  width: 280px;
  background: rgba(255, 255, 255, 0.6);
  backdrop-filter: blur(10px);
  padding: 1rem;
  border-radius: 8px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
  font-family: sans-serif;
  z-index: 10;
  border: 1px solid rgba(0, 0, 0, 0.15);
}

#info-panel.hidden {
  display: none;
}

#info-panel .info-panel__title {
  font-size: 1.2rem;
  font-weight: bold;
  margin-bottom: 0.5rem;
}

#info-panel .info-panel__description {
  font-size: 0.9rem;
  margin-bottom: 0.5rem;
}

#info-panel .info-panel__unit {
  font-style: italic;
  text-align: right;
  font-size: 0.85rem;
}
/* –ü–æ—è—Å–Ω—é–≤–∞–ª—å–Ω–∏–π –ø—ñ–¥–ø–∏—Å –Ω–∞–¥ –≥—Ä—É–ø–∞–º–∏ (–û1/–û2) */
#info-panel .info-panel__subtitle {
  display: block;
  width: 100%;
  margin: 6px 0 4px;
  color: #666;              /* —Ç—Ä–æ—Ö–∏ —Å—ñ—Ä—ñ—à–µ –∑–∞ –æ—Å–Ω–æ–≤–Ω–∏–π —Ç–µ–∫—Å—Ç */
  font-style: normal;       /* –∫—É—Ä—Å–∏–≤, —â–æ–± –≤—ñ–¥—Ä—ñ–∑–Ω—è–ª–æ—Å—è –≤—ñ–¥ –∑–Ω–∞—á–µ–Ω—å */
  font-size: 13px;          /* –º–µ–Ω—à–∏–π —à—Ä–∏—Ñ—Ç */
  text-align: center;       /* –ø–æ —Ü–µ–Ω—Ç—Ä—É —Ä—è–¥–∫–∞ */
  line-height: 1.3;
}
/* –†–æ–±–∏—Ç—å –æ—Ö–∞–π–Ω—É –ª—ñ–Ω—ñ—é –ø—ñ–¥ —É—Å—ñ–º –ø—ñ–¥–ø–∏—Å–æ–º (–≤–∏–≥–ª—è–¥–∞—î —è–∫ —Ä–æ–∑–¥—ñ–ª—å–Ω–∏–∫).*/
#info-panel .info-panel__subtitle::after {
  content: "";
  display: block;
  width: 70%;                        /* –¥–æ–≤–∂–∏–Ω–∞ –ª—ñ–Ω—ñ—ó */
  height: 1px;
  margin: 4px auto 0;
  background: rgba(0,0,0,.15);       /* –∫–æ–ª—ñ—Ä –ª—ñ–Ω—ñ—ó */
  border-radius: 999px;              /* ¬´hairline¬ª –≤–∏–≥–ª—è–¥ */
}


.info-panel__row .scaled {
  color: #555;
}

/* InfoPanel: —Ç—É–º–±–ª–µ—Ä-—Å–≤—ñ—Ç—á–µ—Ä  */
#info-panel .info-panel__toggleWrap {
  display: flex;
  align-items: center;
  gap: 6px;
  flex: 0 0 auto;
  margin-top: 0px;
}

#info-panel .info-panel__toggleLabel {
  display: inline-block;
  white-space: nowrap;

  /* —É–∑–≥–æ–¥–∂–µ–Ω–æ –∑ .info-panel__subtitle */
  color: #666;
  font-style: normal;
  font-weight: 400;
  font-size: 13px;
  line-height: 1.3;
}


#info-panel .switch {
  position: relative;
  width: 36px;
  height: 20px;
  border-radius: 999px;
  border: 1px solid rgba(0,0,0,.2);
  background: #fff;
  cursor: pointer;
  flex: 0 0 auto;
  outline: none;
}

#info-panel .switch__knob {
  position: absolute;
  top: 50%;
  left: 2px;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: #666;
  transform: translateY(-50%);
  transition: left .18s ease;
}

#info-panel .switch.is-on .switch__knob {
  left: calc(100% - 18px);
  background: #111;
}

#info-panel .switch[aria-checked="true"] {
  background: #eaeaea;
}

/* ===== Hover preview –¥–ª—è –Ω–∞–∑–≤ —É InfoPanel ================== */
#ip-hover {
  position: fixed;
  z-index: 9999;
  display: none;
  pointer-events: none;
  background: #fff;
  border: 1px solid rgba(0,0,0,.15);
  box-shadow: 0 6px 18px rgba(0,0,0,.18);
  border-radius: 6px;
  padding: 6px;
  max-width: 280px;
  max-height: 280px;
}
#ip-hover img {
  display: block;
  max-width: 268px;
  max-height: 268px;
}

#info-panel .ip-name.has-thumb {
  text-decoration: underline dotted;
  cursor: pointer;
}

/* ===== InfoPanel: –∫–æ–º–ø–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ (–§–Ü–ù–ê–õ) ===== */
#info-panel .info-panel__row {
  display: flex;
  flex-wrap: wrap;
  align-items: baseline;
  margin: 6px 0 12px;
  font-size: 14px;
}

/* —Å–∫–∏–¥–∞–Ω–Ω—è –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ñ–≤ —É –Ω–∞–∑–≤—ñ */
#info-panel .ip-name {
  display: inline;
  font-weight: 600;
  text-decoration: none;
  border: 0;
  background: transparent;
}
#info-panel .info-panel__row::before,
#info-panel .ip-name::before,
#info-panel .ip-name::after {
  content: none;
}

/* –æ–ø–∏—Å –∑–∞–π–º–∞—î –≤—Å—é —à–∏—Ä–∏–Ω—É –ø—ñ–¥ –∫–æ–º–ø–∞–∫—Ç–Ω–∏–º —Ä—è–¥–∫–æ–º */
#info-panel .info-panel__extra {
  flex: 1 0 100%;
  margin-top: 6px;
}

#info-panel .info-panel__description {
  width: 100%;
  min-width: 0;
  overflow-wrap: anywhere;
  line-height: 1.35;
}

/* ==== Info Panel v4: –ø—Ä–æ–∑–æ—Ä–∞ —à–∞–ø–∫–∞, –∞–≤—Ç–æ–∑—Ä—ñ—Å—Ç, —Å–∫—Ä–æ–ª –ø–æ –ø—Ä–∞–≤–æ–º—É –∫—Ä–∞—é ==== */
#info-panel {
  display: flex;
  flex-direction: column;
  max-height: var(--info-panel-max-h, 72vh);
  height: auto;
  padding-right: 0;
}

#info-panel .info-header {
  flex: 0 0 auto;
  background: transparent;
  border: none;
  position: relative;
  z-index: 1;
}

#info-panel .info-scroll {
  flex: 1 1 auto;
  min-height: 0;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding-inline: 0;
  scrollbar-gutter: stable;
}
#info-panel .info-header {
  padding-right: 12px;
}

/* –Ñ–¥–∏–Ω–∏–π —Å—Ç–∏–ª—å ¬´—Ç–æ–Ω–∫–æ–≥–æ¬ª —Å–∫—Ä–æ–ª—É ‚Äî —è–∫ —É –ª—ñ–≤–æ–º—É —Ñ—Ä–µ–π–º—ñ */
#left-panel,
#info-panel .info-scroll {
  scrollbar-width: thin;
  scrollbar-color: rgba(0, 0, 0, 0.35) transparent;
}

#left-panel::-webkit-scrollbar,
#info-panel .info-scroll::-webkit-scrollbar {
  width: 8px;
}

#left-panel::-webkit-scrollbar-track,
#info-panel .info-scroll::-webkit-scrollbar-track {
  background: transparent;
}

#left-panel::-webkit-scrollbar-thumb,
#info-panel .info-scroll::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.35);
  border-radius: 8px;
}

#left-panel::-webkit-scrollbar-thumb:hover,
#info-panel .info-scroll::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.5);
}

/* –ë–ª–æ–∫—É–≤–∞–Ω–Ω—è —Å–µ–∫—Ç–æ—Ä–∞ (–û–±‚Äô—î–∫—Ç 1) –ø—ñ—Å–ª—è —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É */
.sector-block.is-locked {
  opacity: .6;
}

/* –∑–∞–±–æ—Ä–æ–Ω–∏—Ç–∏ –≤–∑–∞—î–º–æ–¥—ñ—é —É –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–æ–º—É —Å–µ–∫—Ç–æ—Ä—ñ ... */
.sector-block.is-locked button,
.sector-block.is-locked select,
.sector-block.is-locked input {
  pointer-events: none;
}

/* ... –∞–ª–µ –¥–æ–∑–≤–æ–ª–∏—Ç–∏ –∫–ª—ñ–∫–∏ —Å–∞–º–µ –ø–æ calculate/reset (—ñ–¥ –∞–±–æ data-action) */
.sector-block.is-locked :is(
  button#calculate,
  button[data-action="calculate"],
  button#reset,
  button[data-action="reset"]
) {
  pointer-events: auto;
}

/* –í–∞–ª—ñ–¥–∞—Ü—ñ—è: –Ω–µ–∑–∞–ø–æ–≤–Ω–µ–Ω–µ –ø–æ–ª–µ */
select.is-invalid,
input.is-invalid {
  border-color: red !important;
  outline: none;
}

/* ====== Modal: User Object Creation ====== */
body.modal-open { overflow: hidden; }
#modal-root { position: fixed; inset: 0; z-index: 1000; pointer-events: none; }
.ouo-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,.35); display: flex; align-items: center; justify-content: center; pointer-events: all; }
.ouo-modal { width: min(640px, 92vw); max-height: 88vh; overflow: auto; background: #fff; border-radius: 16px; box-shadow: 0 10px 40px rgba(0,0,0,.2); padding: 16px 18px; }
.ouo-modal__header h3 { font-size: 18px; margin-bottom: 12px; font-weight: 600; }
.ouo-modal__body .ouo-field { display: flex; flex-direction: column; gap: 6px; margin-bottom: 12px; }
.ouo-row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
.ouo-field input[type="text"],
.ouo-field input[type="number"],
.ouo-field select,
.ouo-field textarea { padding: 8px 10px; border: 1px solid #ccc; border-radius: 8px; font-size: 14px; background: #fff; }
.ouo-field--disabled { opacity: .6; }
.ouo-modal__footer { display: flex; justify-content: flex-end; gap: 10px; margin-top: 8px; }
.btn-primary { padding: 8px 14px; border-radius: 10px; border: none; background: #1f6feb; color: #fff; cursor: pointer; }
.btn-secondary { padding: 8px 14px; border-radius: 10px; border: 1px solid #ccc; background: #f3f3f3; cursor: pointer; }
.is-invalid { border-color: #d33 !important; outline: none; }

/* InfoPanel: –∫–æ–ª—å–æ—Ä–æ–≤–∞ –∫—Ä–∞–ø–∫–∞ —Ç–∞ –±–∞–∑–æ–≤–∞ —Å—Ç–∏–ª—ñ–∑–∞—Ü—ñ—è —ñ–º–µ–Ω—ñ */
.ip-dot{
  display:inline-block;
  width:10px;
  height:10px;
  border-radius:50%;
  margin-right:6px;
  vertical-align:middle;
  border:1px solid rgba(0,0,0,0.25);
}
.ip-name{
  color:#000;
}

/* WIP –±–µ–π–¥–∂ —É —à–∞–ø—Ü—ñ (–Ω–µ –ª—ñ–Ω–∫) */
.wip-pill{
  display:inline-block; padding:8px 14px; border-radius:8px;
  background:#1e90ff; color:#fff; text-decoration:none; font-weight:600; line-height:1;
  border:1px solid transparent; transition:transform .05s ease, filter .15s ease;
}
.wip-pill:hover{ filter:brightness(1.05) }
.wip-pill:active{ transform:translateY(1px) }

/* —è–∫—â–æ —â–µ –Ω–µ–º–∞—î –≤–∏—Ä—ñ–≤–Ω—é–≤–∞–Ω–Ω—è —à–∞–ø–∫–∏, –¥–æ–¥–∞–π: */
#top-bar{ display:flex; align-items:center; justify-content:space-between; gap:12px; }
#top-actions{ display:flex; align-items:center; gap:10px; }

/* === Labels overlay for circles === */
#circle-labels { 
  position:absolute; 
  inset:0; 
  pointer-events:none; 
  z-index:20; }
.circle-label { 
  position:absolute; 
  font-size:11px; 
  line-height:1.2; 
  color:#393939; 
  text-shadow:0 0 2px rgba(0,0,0,0.65); 
  transform:translate(-50%,-100%); }
.circle-label .dot { 
  display:inline-block; 
  width:6px; 
  height:6px; 
  border-radius:50%; 
  margin-right:6px; 
  vertical-align:middle; 
  box-shadow:0 0 0 1px rgba(0,0,0,0.2) inset, 0 0 2px rgba(0,0,0,0.6); }

/* ==== –ú–æ–≤–Ω–µ –º–µ–Ω—é (–∫–Ω–æ–ø–∫–∞-–≥–ª–æ–±—É—Å) ==== */
#lang-menu {
  position: absolute;
  top: 20px;
  right: 30px;
  z-index: 10;
  font-family: inherit;
}

#lang-menu #lang-button {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 10px;
  border: 1px solid rgba(0,0,0,.08);
  border-radius: 10px;
  background: #fff;
  cursor: pointer;
  box-shadow: 0 2px 8px rgba(0,0,0,.06);
  line-height: 1;
}

#lang-menu.lang-locked #lang-button {
  opacity: .6;
}

#lang-menu .lang-globe {
  width: 18px;
  height: 18px;
  display: block;
}

#lang-current {
  font-weight: 700;
  font-size: 14px;
}

#lang-dropdown {
  position: absolute;
  right: 0;
  margin-top: 8px;
  list-style: none;
  background: #fff;
  border: 1px solid rgba(0,0,0,.08);
  border-radius: 10px;
  box-shadow: 0 10px 24px rgba(0,0,0,.12);
  padding: 6px;
  display: inline-block;
  width: max-content;
}
#lang-dropdown[hidden] { display: none; } 
#lang-dropdown li {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 6px 10px;
  border-radius: 8px;
  cursor: pointer;
  white-space: nowrap;
  font-size: 14px;
}
#lang-dropdown li:hover { background: #f2f6ff; }

#lang-dropdown .lang-flag {
  width: 20px;
  height: auto;
  display: block;
}

/* –ü—Ä–∏–º—É—Å–æ–≤–æ —Ö–æ–≤–∞—Ç–∏ –¥—Ä–æ–ø–¥–∞—É–Ω, –∫–æ–ª–∏ —î –∞—Ç—Ä–∏–±—É—Ç hidden */
#lang-dropdown[hidden] { 
  display: none !important; 
}
#info-panel .ip-note--warn {
  color: #c0392b; /* —á–µ—Ä–≤–æ–Ω–∏–π, –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–∏–π */
  font-weight: 600;
}
/* === InfoPanel: History grouped view === */
#info-panel .ip-history-group .ip-title { font-weight: 600; }
#info-panel .ip-subrow .ip-variant { opacity: .9; margin-right: 4px; }
/* === InfoPanel: History grouped view ‚Äî compact spacing === */
#info-panel .ip-subrow.info-panel__row { 
  margin: 0; 
  padding: 0; 
  line-height: 1.15;
}
#info-panel .ip-subrows { 
  margin-left: 1.2em; 
  display: grid; 
  gap: 2px;            /* –±—É–ª–æ 4px */
}
/* History group: –∫–æ–º–ø–∞–∫—Ç–Ω—ñ—à–µ –º—ñ–∂ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º —ñ –ø—ñ–¥—Ä—è–¥–∫–∞–º–∏ */
#info-panel .ip-history-group { 
  margin-bottom: 6px;      /* –Ω–µ–≤–µ–ª–∏–∫–∏–π –≤—ñ–¥—Å—Ç—É–ø –ø–µ—Ä–µ–¥ –æ–ø–∏—Å–æ–º/–Ω–∞—Å—Ç—É–ø–Ω–æ—é –ø–æ–¥—ñ—î—é */
}
#info-panel .ip-history-group .ip-subrows { 
  margin-top: 0px;         /* –º–∞–ª–∏–π –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π –≤—ñ–¥—Å—Ç—É–ø –ø—ñ–¥ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º */
  margin-left: 1.2em; 
  display: grid; 
  gap: 2px;
}
#info-panel .ip-subrow { 
  margin: 0; 
  line-height: 1.15; 
}

#info-panel .info-panel__description { 
  margin-top: 6px; 
}
/* –Ø–≤–Ω–∏–π –≤—ñ–¥—Å—Ç—É–ø –º—ñ–∂ –≥–æ–ª–æ–≤–Ω–∏–º–∏ —Ä–µ–∂–∏–º–∞–º–∏ (history, money, math, univers, geo, ‚Ä¶) */
#left-panel > details {
  margin-bottom: 12px;     /* ‚Üê –∫–µ—Ä—É—î—à —Ç—É—Ç */
}
#left-panel > details:last-child {
  margin-bottom: 8px;
}

/* –ë–∞–∑–∞ —ñ–∫–æ–Ω–∫–∏-–∫–Ω–æ–ø–∫–∏: –±–µ–∑ —Ä–∞–º–∫–∏/—Ñ–æ–Ω—É, –∫–æ–º–ø–∞–∫—Ç–Ω–∞ (–¥–ª—è "–°—Ç–≤–æ—Ä–∏—Ç–∏") */
#left-panel button.icon-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 44px;
  height: 44px;
  padding: 0;
  border: 0;
  background: transparent;
  border-radius: 50%;
  line-height: 1;
  transition: transform .12s ease;
  transform-origin: center;
  position: relative;
}
/* === –ü—ñ–¥–∫–∞–∑–∫–∏ –¥–ª—è —ñ–∫–æ–Ω–æ–∫ —É –ª—ñ–≤—ñ–π –ø–∞–Ω–µ–ª—ñ ‚Äî –∑–ª—ñ–≤–∞ –≤—ñ–¥ –∫–Ω–æ–ø–∫–∏ === */
#left-panel button.icon-button { position: relative; }

#left-panel button.icon-button::after,
#left-panel button.icon-button::before {
  position: absolute;
  pointer-events: none;
  opacity: 0;
  transition: opacity .12s ease;
  z-index: 5;
  content: "";
}

/* –¢—ñ–ª–æ –ø—ñ–¥–∫–∞–∑–∫–∏ –ª—ñ–≤–æ—Ä—É—á, –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª—ñ –ø–æ —Ü–µ–Ω—Ç—Ä—É –∫–Ω–æ–ø–∫–∏ */
#left-panel button.icon-button:hover::after {
  top: 50%;
  right: calc(100% + 10px);     /* ‚Üê –∑–ª—ñ–≤–∞ –≤—ñ–¥ –∫–Ω–æ–ø–∫–∏ */
  transform: translateY(-50%);  /* –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–µ —Ü–µ–Ω—Ç—Ä—É–≤–∞–Ω–Ω—è */

  padding: 6px 8px;
  max-width: 220px;
  white-space: nowrap;
  background: #fff;
  color: #111;
  border: 1px solid rgba(0,0,0,.2);
  border-radius: 8px;
  box-shadow: 0 6px 18px rgba(0,0,0,.12);
  font: 500 12px/1.2 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;

  opacity: 1;
}

/* –°—Ç—Ä—ñ–ª–æ—á–∫–∞ –±—ñ–ª—è –ø—Ä–∞–≤–æ–≥–æ –∫—Ä–∞—é —Ç—É–ª—Ç—ñ–ø–∞ (–≤–∫–∞–∑—É—î –Ω–∞ –∫–Ω–æ–ø–∫—É) */
#left-panel button.icon-button:hover::before {
  top: 50%;
  right: calc(100% + 5px);
  width: 10px;
  height: 10px;
  background: #fff;
  border-left: 1px solid rgba(0,0,0,.2);
  border-top: 1px solid rgba(0,0,0,.2);
  transform: translateY(-50%) rotate(45deg);
  opacity: 1;
}

/* –î–∂–µ—Ä–µ–ª–æ —Ç–µ–∫—Å—Ç—É –ø—ñ–¥–∫–∞–∑–∫–∏ ‚Äî –±–µ—Ä–µ–º–æ –∑ aria-label –∞–±–æ data-tip */
#left-panel button.icon-button[aria-label]:hover::after { content: attr(aria-label); }
#left-panel button.icon-button[data-tip]:hover::after   { content: attr(data-tip); }
/* (–ë–Ü–õ–¨–®–ï –ù–ï –ß–ò–¢–ê–Ñ–ú–û title, —â–æ–± –Ω–µ –¥—É–±–ª—é–≤–∞—Ç–∏ –Ω–∞—Ç–∏–≤–Ω—É –ø—ñ–¥–∫–∞–∑–∫—É) */

#left-panel button.icon-button:hover {
  transform: scale(1.10);
}

#left-panel button.icon-button .btn-icon {
  width: 24px;
  height: 24px;
  object-fit: contain;
  pointer-events: none;
  user-select: none;
}

/* === –Ü–ö–û–ù–ö–û–í–Ü –°–¢–ê–†–¢/–†–ï–°–ï–¢ v2: –±—ñ–ª—å—à—ñ –∫–Ω–æ–ø–∫–∏, –º–µ–Ω—à–∏–π —Å–µ–∫—Ç–æ—Ä, –±–µ–∑ —Ä–∞–º–∫–∏ === */
/* === Start/Reset: –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ –ø–æ —Ü–µ–Ω—Ç—Ä—É (–ª–∏—à–µ –∫–æ–ª–∏ –æ–±–∏–¥–≤—ñ —î) === */
#left-panel .sector-block:has(> button.icon-button[data-action="calculate"]):has(> button.icon-button[data-action="reset"]) {
  display: flex;
  flex-direction: column;  /* –æ–¥–Ω–∞ –Ω–∞–¥ –æ–¥–Ω–æ—é */
  align-items: center;     /* –ø–æ —Ü–µ–Ω—Ç—Ä—É */
  gap: 16px;               /* –≤—ñ–¥—Å—Ç–∞–Ω—å –º—ñ–∂ –Ω–∏–º–∏ */
  padding: 8px 0;
  border: none;
  background: transparent;
  box-shadow: none;
}

/* –ø—Ä–∏–±–∏—Ä–∞—î–º–æ –∑–æ–≤–Ω—ñ—à–Ω—ñ –≤—ñ–¥—Å—Ç—É–ø–∏, —â–æ–± –Ω–µ –∑–∞–≤–∞–∂–∞–ª–∏ gap */
#left-panel .sector-block:has(> button.icon-button[data-action="calculate"]):has(> button.icon-button[data-action="reset"]) > button.icon-button {
  margin: 0;
}

/* 1) –ó–±—ñ–ª—å—à—É—î–º–æ —Ä–æ–∑–º—ñ—Ä —Å–µ–∫—Ç–æ—Ä–∞ —Å–∞–º–µ –¥–ª—è Start/Reset (–ø—Ä–∞—Ü—é—î —ñ –±–µ–∑ .controls-row) */
#left-panel .sector-block button.icon-button[data-action="calculate"],
#left-panel .sector-block button.icon-button[data-action="reset"] {
  width: 42px;
  height: 42px;
}

/* 2) –†–æ–∑–º—ñ—Ä —Å–∞–º–æ—ó —ñ–∫–æ–Ω–∫–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ */
#left-panel .sector-block button.icon-button[data-action="calculate"] .btn-icon,
#left-panel .sector-block button.icon-button[data-action="reset"] .btn-icon {
  width: 42px;      /* –ø—ñ–¥ 160√ó160 –∫–Ω–æ–ø–∫–∏ –≤–∏–≥–ª—è–¥–∞—î –∑–±–∞–ª–∞–Ω—Å–æ–≤–∞–Ω–æ */
  height: 42px;
  display: block;
  flex: 0 0 auto;
  object-fit: contain; /* –¥–ª—è <img> */
}

/* 3) –°–µ–∫—Ç–æ—Ä –∑ –∫–Ω–æ–ø–∫–∞–º–∏: —Ä–æ–±–∏–º–æ –∫–æ–º–ø–∞–∫—Ç–Ω–∏–º —ñ –ø—Ä–∏–±–∏—Ä–∞—î–º–æ —Ä–∞–º–∫—É/—Ñ–æ–Ω —Ç—ñ–ª—å–∫–∏ —Ç—É—Ç */
#left-panel .sector-block:has(button.icon-button[data-action="calculate"]) {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 100px;
  padding: 8px 0;
  border: none;
  background: transparent;
  box-shadow: none;
}

/* === –Ü–ö–û–ù–ö–ê ¬´–°–¢–í–û–†–ò–¢–ò¬ª: —Ä–æ–∑–º—ñ—Ä + —Ä–æ–∑–º—ñ—â–µ–Ω–Ω—è –±–µ–∑ –≤–ø–ª–∏–≤—É –Ω–∞ —ñ–Ω—à—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ === */

/* 1) –ë–∞–∑–æ–≤–∏–π —Ä–æ–∑–º—ñ—Ä –∫–Ω–æ–ø–∫–∏-—ñ–∫–æ–Ω–∫–∏ "–°—Ç–≤–æ—Ä–∏—Ç–∏" (—Å–µ—Ä–µ–¥–Ω—ñ–π, –º–µ–Ω—à–µ –Ω—ñ–∂ Start/Reset) */
#left-panel button.icon-button[data-action="create"] {
  width: 16px;
  height: 16px;
}

/* 2) –†–æ–∑–º—ñ—Ä —Å–∞–º–æ—ó –ø—ñ–∫—Ç–æ–≥—Ä–∞–º–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–Ω–æ–ø–∫–∏ "–°—Ç–≤–æ—Ä–∏—Ç–∏" */
#left-panel button.icon-button[data-action="create"] .btn-icon {
  width: 16px;
  height: 16px;
  display: block;
  flex: 0 0 auto;
  object-fit: contain;
}

/* 3) –Ø–∫—â–æ —Å–µ–∫—Ç–æ—Ä –º—ñ—Å—Ç–∏—Ç—å –¢–Ü–õ–¨–ö–ò –∫–Ω–æ–ø–∫—É "–°—Ç–≤–æ—Ä–∏—Ç–∏" (–±–µ–∑ select/input) ‚Äî —Ü–µ–Ω—Ç—Ä—É—î–º–æ —Ç–∞ —Ä–æ–±–∏–º–æ –∫–æ–º–ø–∞–∫—Ç–Ω–∏–º, –±–µ–∑ —Ä–∞–º–∫–∏ */
#left-panel .sector-block:has(> button.icon-button[data-action="create"]):not(:has(select)):not(:has(input)) {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: 0;
  padding: 8px 0;
  border: none;
  background: transparent;
  box-shadow: none;
}

/* 4) –ù–µ–≤–µ–ª–∏–∫–∏–π –∑–æ–≤–Ω—ñ—à–Ω—ñ–π –≤—ñ–¥—Å—Ç—É–ø –∑ –æ–±–æ—Ö –±–æ–∫—ñ–≤, —è–∫—â–æ "–°—Ç–≤–æ—Ä–∏—Ç–∏" —Å—Ç–æ—ó—Ç—å –≤ —Ä—è–¥ —ñ–∑ —ñ–Ω—à–∏–º–∏ –µ–ª–µ–º–µ–Ω—Ç–∞–º–∏ */
#left-panel button.icon-button[data-action="create"] {
  margin: 0px 0px;
}
/* –ó—Å—É–≤ "–°—Ç–≤–æ—Ä–∏—Ç–∏" –≤–ø—Ä–∞–≤–æ –Ω–∞ —Ñ—ñ–∫—Å–æ–≤–∞–Ω–∏–π –≤—ñ–¥—Å—Ç—É–ø –≤—ñ–¥ –ª—ñ–≤–æ–≥–æ –∫—Ä–∞—é —Å–µ–∫—Ç–æ—Ä–∞ */
#left-panel .sector-block:has(> button.icon-button[data-action="create"]) {
  width: 100%; /* —â–æ–± –±—É–≤ –ø—Ä–æ—Å—Ç—ñ—Ä, —ñ –≤—ñ–¥—Å—Ç—É–ø –±—É–≤ –≤–∏–¥–∏–º–∏–π */
}

/* –º—ñ–Ω—è–π —á–∏—Å–ª–æ –ø—ñ–¥ —Å–µ–±–µ: 40px, 80px, 120px —Ç–æ—â–æ */
#left-panel .sector-block:has(> button.icon-button[data-action="create"]) > button.icon-button[data-action="create"] {
  margin-left: 175px;
}



